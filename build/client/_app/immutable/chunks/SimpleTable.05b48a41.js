import{s as ge,p as be,f as H,a as N,g as A,h as j,c as D,d as _,j as E,i as p,G as q,T as ke,Y as ve,o as we,U as Pe,l as z,m as G,n as Z,K as Te,L as Ce,X as Y,e as X,E as $e,N as x,H as Ne,$ as De,V as Ee}from"./scheduler.a278e30b.js";import{S as Se,i as ye,h as Me,b as v,d as w,m as P,a as h,t as d,e as T,g as ee,c as te}from"./index.bc19f21f.js";import{e as R}from"./Icon.c81b812b.js";import{T as He,P as Ae,M as Be,i as Ie,a as Ve,b as je,c as pe,d as Fe,e as he,f as Le}from"./DataCell.49b25c64.js";import{b as Oe,c as qe}from"./js.cookie.c4425e19.js";import{b as Xe}from"./index.0132ad10.js";import{p as Re}from"./stores.398c5acc.js";import{B as de}from"./Button.4181d088.js";import"./Indicator.svelte_svelte_type_style_lang.7922a51a.js";import{L as ze}from"./Input.c1ff2188.js";function le(r,t,l){const e=r.slice();return e[24]=t[l],e}function ne(r,t,l){const e=r.slice();return e[27]=t[l],e}function ae(r,t,l){const e=r.slice();return e[30]=t[l],e}function se(r,t,l){const e=r.slice();return e[30]=t[l],e}function Ge(r){let t;return{c(){t=z("Search")},l(l){t=G(l,"Search")},m(l,e){p(l,t,e)},d(l){l&&_(t)}}}function Ke(r){let t;return{c(){t=z("Search")},l(l){t=G(l,"Search")},m(l,e){p(l,t,e)},d(l){l&&_(t)}}}function oe(r){let t,l;return{c(){t=H("h1"),l=z(r[1]),this.h()},l(e){t=A(e,"H1",{class:!0});var n=j(t);l=G(n,r[1]),n.forEach(_),this.h()},h(){E(t,"class","text-lg font-bold dark:text-white")},m(e,n){p(e,t,n),q(t,l)},p(e,n){n[0]&2&&Z(l,e[1])},d(e){e&&_(t)}}}function re(r){let t,l;return{c(){t=H("p"),l=new Te(!1),this.h()},l(e){t=A(e,"P",{class:!0});var n=j(t);l=Ce(n,!1),n.forEach(_),this.h()},h(){l.a=null,E(t,"class","dark:text-white")},m(e,n){p(e,t,n),l.m(r[2],t)},p(e,n){n[0]&4&&l.p(e[2])},d(e){e&&_(t)}}}function Qe(r){let t=r[30].label+"",l;return{c(){l=z(t)},l(e){l=G(e,t)},m(e,n){p(e,l,n)},p:x,d(e){e&&_(l)}}}function fe(r){let t,l;return t=new pe({props:{$$slots:{default:[Qe]},$$scope:{ctx:r}}}),{c(){v(t.$$.fragment)},l(e){w(t.$$.fragment,e)},m(e,n){P(t,e,n),l=!0},p(e,n){const a={};n[1]&16&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){l||(h(t.$$.fragment,e),l=!0)},o(e){d(t.$$.fragment,e),l=!1},d(e){T(t,e)}}}function Ue(r){let t,l="Action";return{c(){t=H("span"),t.textContent=l,this.h()},l(e){t=A(e,"SPAN",{class:!0,"data-svelte-h":!0}),$e(t)!=="svelte-hzngtx"&&(t.textContent=l),this.h()},h(){E(t,"class","sr-only")},m(e,n){p(e,t,n)},p:x,d(e){e&&_(t)}}}function Ye(r){let t,l,e,n=R(r[8]),a=[];for(let f=0;f<n.length;f+=1)a[f]=fe(se(r,n,f));const s=f=>d(a[f],1,1,()=>{a[f]=null});return l=new pe({props:{$$slots:{default:[Ue]},$$scope:{ctx:r}}}),{c(){for(let f=0;f<a.length;f+=1)a[f].c();t=N(),v(l.$$.fragment)},l(f){for(let o=0;o<a.length;o+=1)a[o].l(f);t=D(f),w(l.$$.fragment,f)},m(f,o){for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(f,o);p(f,t,o),P(l,f,o),e=!0},p(f,o){if(o[0]&256){n=R(f[8]);let u;for(u=0;u<n.length;u+=1){const $=se(f,n,u);a[u]?(a[u].p($,o),h(a[u],1)):(a[u]=fe($),a[u].c(),h(a[u],1),a[u].m(t.parentNode,t))}for(ee(),u=n.length;u<a.length;u+=1)s(u);te()}const i={};o[1]&16&&(i.$$scope={dirty:o,ctx:f}),l.$set(i)},i(f){if(!e){for(let o=0;o<n.length;o+=1)h(a[o]);h(l.$$.fragment,f),e=!0}},o(f){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)d(a[o]);d(l.$$.fragment,f),e=!1},d(f){f&&_(t),Y(a,f),T(l,f)}}}function Je(r){let t,l,e;return t=new Le({props:{item:r[24],col:r[30]}}),{c(){v(t.$$.fragment),l=N()},l(n){w(t.$$.fragment,n),l=D(n)},m(n,a){P(t,n,a),p(n,l,a),e=!0},p(n,a){const s={};a[0]&64&&(s.item=n[24]),t.$set(s)},i(n){e||(h(t.$$.fragment,n),e=!0)},o(n){d(t.$$.fragment,n),e=!1},d(n){n&&_(l),T(t,n)}}}function ce(r){let t,l;return t=new he({props:{class:"font-light dark:text-white",$$slots:{default:[Je]},$$scope:{ctx:r}}}),{c(){v(t.$$.fragment)},l(e){w(t.$$.fragment,e)},m(e,n){P(t,e,n),l=!0},p(e,n){const a={};n[0]&64|n[1]&16&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){l||(h(t.$$.fragment,e),l=!0)},o(e){d(t.$$.fragment,e),l=!1},d(e){T(t,e)}}}function ie(r){let t,l=r[0].buttons!=[]&&ue(r);return{c(){l&&l.c(),t=X()},l(e){l&&l.l(e),t=X()},m(e,n){l&&l.m(e,n),p(e,t,n)},p(e,n){e[0].buttons!=[]?l?l.p(e,n):(l=ue(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&_(t),l&&l.d(e)}}}function ue(r){let t,l=R(r[0].buttons),e=[];for(let n=0;n<l.length;n+=1)e[n]=_e(ne(r,l,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=X()},l(n){for(let a=0;a<e.length;a+=1)e[a].l(n);t=X()},m(n,a){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(n,a);p(n,t,a)},p(n,a){if(a[0]&12353){l=R(n[0].buttons);let s;for(s=0;s<l.length;s+=1){const f=ne(n,l,s);e[s]?e[s].p(f,a):(e[s]=_e(f),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=l.length}},d(n){n&&_(t),Y(e,n)}}}function _e(r){let t,l=r[27].name+"",e,n,a,s="|",f,o;return{c(){t=H("a"),e=z(l),n=N(),a=H("span"),a.textContent=s,this.h()},l(i){t=A(i,"A",{href:!0,class:!0});var u=j(t);e=G(u,l),u.forEach(_),n=D(i),a=A(i,"SPAN",{class:!0,"data-svelte-h":!0}),$e(a)!=="svelte-fv9428"&&(a.textContent=s),this.h()},h(){E(t,"href","#"),E(t,"class","font-medium text-primary-600 hover:underline dark:text-primary-500"),E(a,"class","mx-1")},m(i,u){p(i,t,u),q(t,e),p(i,n,u),p(i,a,u),f||(o=Ne(t,"click",De(function(){Ee(r[27].onclickFn(r[24],r[12],r[13]))&&r[27].onclickFn(r[24],r[12],r[13]).apply(this,arguments)})),f=!0)},p(i,u){r=i,u[0]&1&&l!==(l=r[27].name+"")&&Z(e,l)},d(i){i&&(_(t),_(n),_(a)),f=!1,o()}}}function We(r){let t,l=r[0].buttons!=null&&ie(r);return{c(){l&&l.c(),t=X()},l(e){l&&l.l(e),t=X()},m(e,n){l&&l.m(e,n),p(e,t,n)},p(e,n){e[0].buttons!=null?l?l.p(e,n):(l=ie(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){e&&_(t),l&&l.d(e)}}}function Ze(r){let t,l,e,n,a=R(r[8]),s=[];for(let o=0;o<a.length;o+=1)s[o]=ce(ae(r,a,o));const f=o=>d(s[o],1,1,()=>{s[o]=null});return l=new he({props:{$$slots:{default:[We]},$$scope:{ctx:r}}}),{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=N(),v(l.$$.fragment),e=N()},l(o){for(let i=0;i<s.length;i+=1)s[i].l(o);t=D(o),w(l.$$.fragment,o),e=D(o)},m(o,i){for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(o,i);p(o,t,i),P(l,o,i),p(o,e,i),n=!0},p(o,i){if(i[0]&320){a=R(o[8]);let $;for($=0;$<a.length;$+=1){const S=ae(o,a,$);s[$]?(s[$].p(S,i),h(s[$],1)):(s[$]=ce(S),s[$].c(),h(s[$],1),s[$].m(t.parentNode,t))}for(ee(),$=a.length;$<s.length;$+=1)f($);te()}const u={};i[0]&65|i[1]&16&&(u.$$scope={dirty:i,ctx:o}),l.$set(u)},i(o){if(!n){for(let i=0;i<a.length;i+=1)h(s[i]);h(l.$$.fragment,o),n=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)d(s[i]);d(l.$$.fragment,o),n=!1},d(o){o&&(_(t),_(e)),Y(s,o),T(l,o)}}}function me(r){let t,l;return t=new Fe({props:{$$slots:{default:[Ze]},$$scope:{ctx:r}}}),{c(){v(t.$$.fragment)},l(e){w(t.$$.fragment,e)},m(e,n){P(t,e,n),l=!0},p(e,n){const a={};n[0]&65|n[1]&16&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){l||(h(t.$$.fragment,e),l=!0)},o(e){d(t.$$.fragment,e),l=!1},d(e){T(t,e)}}}function xe(r){let t,l,e=R(r[6]),n=[];for(let s=0;s<e.length;s+=1)n[s]=me(le(r,e,s));const a=s=>d(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=X()},l(s){for(let f=0;f<n.length;f+=1)n[f].l(s);t=X()},m(s,f){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,f);p(s,t,f),l=!0},p(s,f){if(f[0]&12609){e=R(s[6]);let o;for(o=0;o<e.length;o+=1){const i=le(s,e,o);n[o]?(n[o].p(i,f),h(n[o],1)):(n[o]=me(i),n[o].c(),h(n[o],1),n[o].m(t.parentNode,t))}for(ee(),o=e.length;o<n.length;o+=1)a(o);te()}},i(s){if(!l){for(let f=0;f<e.length;f+=1)h(n[f]);l=!0}},o(s){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)d(n[f]);l=!1},d(s){s&&_(t),Y(n,s)}}}function et(r){let t,l,e,n;return t=new Ve({props:{$$slots:{default:[Ye]},$$scope:{ctx:r}}}),e=new je({props:{class:"divide-y",$$slots:{default:[xe]},$$scope:{ctx:r}}}),{c(){v(t.$$.fragment),l=N(),v(e.$$.fragment)},l(a){w(t.$$.fragment,a),l=D(a),w(e.$$.fragment,a)},m(a,s){P(t,a,s),p(a,l,s),P(e,a,s),n=!0},p(a,s){const f={};s[1]&16&&(f.$$scope={dirty:s,ctx:a}),t.$set(f);const o={};s[0]&65|s[1]&16&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){n||(h(t.$$.fragment,a),h(e.$$.fragment,a),n=!0)},o(a){d(t.$$.fragment,a),d(e.$$.fragment,a),n=!1},d(a){a&&_(l),T(t,a),T(e,a)}}}function tt(r){let t;return{c(){t=z("Are you sure you want to perform this action?")},l(l){t=G(l,"Are you sure you want to perform this action?")},m(l,e){p(l,t,e)},p:x,d(l){l&&_(t)}}}function lt(r){let t;return{c(){t=z(r[4])},l(l){t=G(l,r[4])},m(l,e){p(l,t,e)},p(l,e){e[0]&16&&Z(t,l[4])},d(l){l&&_(t)}}}function nt(r){let t;function l(a,s){return a[4]!=null?lt:tt}let e=l(r),n=e(r);return{c(){t=H("p"),n.c(),this.h()},l(a){t=A(a,"P",{class:!0});var s=j(t);n.l(s),s.forEach(_),this.h()},h(){E(t,"class","text-base leading-relaxed text-gray-500 dark:text-gray-400")},m(a,s){p(a,t,s),n.m(t,null)},p(a,s){e===(e=l(a))&&n?n.p(a,s):(n.d(1),n=e(a),n&&(n.c(),n.m(t,null)))},d(a){a&&_(t),n.d()}}}function at(r){let t;return{c(){t=z("Confirm")},l(l){t=G(l,"Confirm")},m(l,e){p(l,t,e)},d(l){l&&_(t)}}}function st(r){let t,l;return t=new de({props:{color:"red",$$slots:{default:[at]},$$scope:{ctx:r}}}),t.$on("click",r[15]),{c(){v(t.$$.fragment)},l(e){w(t.$$.fragment,e)},m(e,n){P(t,e,n),l=!0},p(e,n){const a={};n[1]&16&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){l||(h(t.$$.fragment,e),l=!0)},o(e){d(t.$$.fragment,e),l=!1},d(e){T(t,e)}}}function ot(r){let t,l,e,n,a,s,f,o,i,u,$,S,B,L,y,C,K,I,U,Q;e=new ze({props:{for:"default-input",class:"block mb-2",$$slots:{default:[Ge]},$$scope:{ctx:r}}}),s=new de({props:{$$slots:{default:[Ke]},$$scope:{ctx:r}}}),s.$on("click",r[14]);let g=r[1]&&oe(r),b=r[2]&&re(r);B=new He({props:{shadow:!0,hoverable:!0,$$slots:{default:[et]},$$scope:{ctx:r}}}),C=new Ae({props:{pages:r[7]}}),C.$on("click",r[12]),C.$on("previous",r[10]),C.$on("next",r[11]);function J(c){r[16](c)}let k={title:"Confirm?",autoclose:!0,outsideclose:!0,$$slots:{footer:[st],default:[nt]},$$scope:{ctx:r}};return r[5]!==void 0&&(k.open=r[5]),I=new Be({props:k}),be.push(()=>Me(I,"open",J)),{c(){t=H("div"),l=H("div"),v(e.$$.fragment),n=N(),a=H("div"),v(s.$$.fragment),f=N(),o=H("div"),g&&g.c(),i=N(),b&&b.c(),u=N(),$=H("div"),S=N(),v(B.$$.fragment),L=N(),y=H("div"),v(C.$$.fragment),K=N(),v(I.$$.fragment),this.h()},l(c){t=A(c,"DIV",{class:!0});var m=j(t);l=A(m,"DIV",{class:!0});var M=j(l);w(e.$$.fragment,M),n=D(M),a=A(M,"DIV",{class:!0});var F=j(a);w(s.$$.fragment,F),F.forEach(_),M.forEach(_),f=D(m),o=A(m,"DIV",{class:!0});var V=j(o);g&&g.l(V),i=D(V),b&&b.l(V),V.forEach(_),m.forEach(_),u=D(c),$=A(c,"DIV",{class:!0}),j($).forEach(_),S=D(c),w(B.$$.fragment,c),L=D(c),y=A(c,"DIV",{class:!0});var O=j(y);w(C.$$.fragment,O),O.forEach(_),K=D(c),w(I.$$.fragment,c),this.h()},h(){E(a,"class","flex gap-4 items-center"),E(l,"class","hidden"),E(o,"class","flex flex-col"),E(t,"class","mb-6 flex flex items-center"),E($,"class","flex flex-col items-center justify-center gap-2 mb-4"),E(y,"class","flex flex-col items-center justify-center gap-2 mt-4")},m(c,m){p(c,t,m),q(t,l),P(e,l,null),q(l,n),q(l,a),P(s,a,null),q(t,f),q(t,o),g&&g.m(o,null),q(o,i),b&&b.m(o,null),p(c,u,m),p(c,$,m),p(c,S,m),P(B,c,m),p(c,L,m),p(c,y,m),P(C,y,null),p(c,K,m),P(I,c,m),Q=!0},p(c,m){const M={};m[1]&16&&(M.$$scope={dirty:m,ctx:c}),e.$set(M);const F={};m[1]&16&&(F.$$scope={dirty:m,ctx:c}),s.$set(F),c[1]?g?g.p(c,m):(g=oe(c),g.c(),g.m(o,i)):g&&(g.d(1),g=null),c[2]?b?b.p(c,m):(b=re(c),b.c(),b.m(o,null)):b&&(b.d(1),b=null);const V={};m[0]&65|m[1]&16&&(V.$$scope={dirty:m,ctx:c}),B.$set(V);const O={};m[0]&128&&(O.pages=c[7]),C.$set(O);const W={};m[0]&24|m[1]&16&&(W.$$scope={dirty:m,ctx:c}),!U&&m[0]&32&&(U=!0,W.open=c[5],ke(()=>U=!1)),I.$set(W)},i(c){Q||(h(e.$$.fragment,c),h(s.$$.fragment,c),h(B.$$.fragment,c),h(C.$$.fragment,c),h(I.$$.fragment,c),Q=!0)},o(c){d(e.$$.fragment,c),d(s.$$.fragment,c),d(B.$$.fragment,c),d(C.$$.fragment,c),d(I.$$.fragment,c),Q=!1},d(c){c&&(_(t),_(u),_($),_(S),_(L),_(y),_(K)),T(e),T(s),g&&g.d(),b&&b.d(),T(B,c),T(C),T(I,c)}}}const rt=100;function ft(r,t,l){let e;ve(r,Re,k=>l(18,e=k));let{data:n,title:a,description:s}=t,f,o=n.apiData,i=n.scope,u=n.columns,$,S=!1,B=[],L=[];async function y(k){const c=Xe(o);console.log(c);try{let F=Oe+qe;const V=await fetch(F+"/api/webhook?scope="+i+`&${c}`,{headers:{"content-type":"application/json"}});if(V.ok){let O=await V.json();l(6,B=O);var m=Math.ceil(O.recordsFiltered/rt);l(7,L=[]);for(var M=0;M<m;M++)L.push({name:M+1,href:"?page="+(M+1)})}else console.error("API request failed")}catch(F){console.error("An error occurred",F)}}const C=()=>{alert("Previous btn clicked. Make a call to your server to fetch data.")},K=()=>{alert("Next btn clicked. Make a call to your server to fetch data.")};we(()=>{y()});async function I(){setTimeout(()=>{console.log(e.url.searchParams.get("page")),y(e.url.searchParams.get("page"))},200)}function U(k,c,m){l(4,$=c),l(5,S=k),l(3,f=m)}let Q=Ie.subscribe(k=>{console.log(k)});Pe(Q);const g=()=>{y()},b=()=>{f(),l(4,$=null),l(3,f=null)};function J(k){S=k,l(5,S)}return r.$$set=k=>{"data"in k&&l(0,n=k.data),"title"in k&&l(1,a=k.title),"description"in k&&l(2,s=k.description)},[n,a,s,f,$,S,B,L,u,y,C,K,I,U,g,b,J]}class bt extends Se{constructor(t){super(),ye(this,t,ft,ot,ge,{data:0,title:1,description:2},null,[-1,-1])}}export{bt as S};
